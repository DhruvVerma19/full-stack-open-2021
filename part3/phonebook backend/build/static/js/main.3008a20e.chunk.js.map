{"version":3,"sources":["components/Person.js","components/personForm.js","components/personFilter.js","services/persons.js","components/Notifications.js","App.js","index.js"],"names":["Person","props","name","number","id","onClick","handleDelClick","PersonsList","personslist","personList","map","person","PersonForm","onSubmit","handleFormSubmit","onChange","handleNameChange","value","nameValue","handleNumberChange","numberValue","type","PersonFilter","handleFilterChange","url","axios","get","then","response","data","post","delete","newDetails","put","favorableStyle","color","background","fontSize","border","borderRadius","padding","marginBottom","errorStyle","Notification","message","includes","style","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","nameFilter","setNameFilter","errMessage","setErrMessage","useEffect","personService","fetchPersons","personName","toLocaleUpperCase","filterPersonList","filter","toUpperCase","event","target","specificPerson","find","window","confirm","del","catch","err","console","log","finally","deletePerson","setTimeout","formSubmit","preventDefault","Promise","resolve","length","updatedInfo","returnInfo","updatePerson","updatedSuccessfully","setPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3008a20e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = (props) => {\n  return (\n    <div>\n      {props.name} {props.number} <button id={props.id} name={props.name} onClick={props.handleDelClick}> Delete</button>\n      <br />\n    </div>\n  );\n}; \n\nconst PersonsList = ({personslist, handleDelClick}) => {\n  \n  const personList = personslist.map(person => {\n    return( <Person key={person.name} id={person.id} name={person.name} number={person.number} handleDelClick={handleDelClick} />);\n    \n    });\n\n  return (\n      <div>\n        {personList}\n      </div>\n  );\n};\nexport default PersonsList;","import React from \"react\";\n\nconst PersonForm = (props) => {\n    return (\n        <div>\n            <form onSubmit={props.handleFormSubmit}>\n        <div>\n          name:{\" \"}\n          <input onChange={props.handleNameChange} value={props.nameValue} />\n        </div>\n        <br />\n        <div>\n          number:{\" \"}\n          <input\n            onChange={props.handleNumberChange} value={props.numberValue} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n        </div>\n    );\n};\nexport default PersonForm;","import React from \"react\";\n\nconst PersonFilter = (props) => {\n    return (\n        <div>\n            filter shown with:{\" \"}\n      <input onChange={props.handleFilterChange} value={props.value}/>\n\n        </div>\n    );\n};\n\nexport default PersonFilter;","import axios from \"axios\";\n\nconst url = \"http://localhost:3001/api/persons\";\n\nconst getAll = () => {\n    const req = axios.get(url);\n    return req.then(response => response.data);\n}\n\nconst create = (person) => {\n    const req = axios.post(url, person);\n    return req.then(response => response.data);\n}\n\nconst remove = (id) => {\n    const req = axios.delete(`${url}/${id}`)\n    return req;\n  }\n\nconst update = (id, newDetails) => {\n    const req = axios.put(`${url}/${id}`, newDetails);\n    return req.then(response => response.data);\n} \nexport default {getAll, create, remove, update}","import React from 'react'\n\nconst favorableStyle = {\n  color: 'green',\n  background: 'lightgrey',\n  fontSize: 20,\n  border: '5px solid green',\n  borderRadius: 5,\n  padding: '10px',\n  marginBottom: '30px'\n}\n\nconst errorStyle = {\n  color: 'red',\n  background: 'lightgrey',\n  fontSize: 20,\n  border: '5px solid red',\n  borderRadius: 5,\n  padding: '10px',\n  marginBottom: '30px'\n}\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n\n    if (message.includes('has already been removed from server')){\n      return (\n        <div style={errorStyle} className=\"error\">\n          {message}\n        </div>\n      )\n    } \n    else if(message.includes('must contain')){\n      return (\n        <div style={errorStyle} className=\"error\">\n          {message}\n        </div>\n      )\n    }\n    else {\n      return (\n        <div style={favorableStyle} className=\"error\">\n          {message}\n        </div>\n      )\n    }\n  }\n\nexport default Notification","import React, { useEffect, useState } from \"react\";\nimport PersonsList from \"./components/Person\";\nimport PersonForm from \"./components/personForm\";\nimport PersonFilter from \"./components/personFilter\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notifications\";\n\nconst App = () => {\n \n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [nameFilter, setNameFilter] = useState(\"\");\n  const [errMessage, setErrMessage] = useState(null);\n  \n  \n  useEffect(() => {\n      personService.getAll().then(fetchPersons => {\n        setPersons(fetchPersons);\n      })\n  }, []);\n\n  const personName = persons.map(person => {\n    return person.name.toLocaleUpperCase();\n  });\n\n    const filterPersonList = persons.filter(person => {\n    return person.name.toUpperCase().includes(nameFilter.toUpperCase());\n  });\n\n  \n  \n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n  \n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setNameFilter(event.target.value);\n  };\n\n  const deletePerson = (id) => {\n    var del = true;\n    personService.remove(id).catch(err => {\n      console.log(err);\n      del = false;\n    }).finally(() => {\n     if(del){\n        setPersons(persons.filter(person => person.id !== id))\n     }\n    })\n    \n  }\n\n  const handleDelClick = (event) => {\n    const id = (event.target.id);\n    const specificPerson = persons.find(person => person.id === id);\n    const delPerson = window.confirm(`Delete ${specificPerson.name}?`);\n    if(delPerson){\n      deletePerson(id);\n    }\n    setPersons(persons.filter(person => person.id !== specificPerson.id))\n    setErrMessage(\n      `${specificPerson.name} was successfully deleted`\n    )\n     \n    setTimeout(() => {\n      setErrMessage(null)\n    }, 5000)\n  \n    \n  }\n\n  const updatePerson = () => {\n    const person = persons.find(person => person.name.toUpperCase() === newName.toUpperCase());\n    const updateConf = window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`);\n\n    if(updateConf){\n      if(newNumber.length < 8){\n        setErrMessage(\n          `The number must contain 8 digits`\n        )\n      }\n      else{\n      const updatedInfo = {...person, number:newNumber};\n      const id = person.id;\n      return personService.update(id, updatedInfo).then(returnInfo => {\n        setPersons(persons.map(person => (person.id ? person : returnInfo)));\n        \n        \n        return true;\n      })\n    }\n  }\n    else{\n      return Promise.resolve(false);\n    }\n\n  }\n\n  const formSubmit = (event) => {\n    event.preventDefault();\n\n    if (personName.includes(newName.toLocaleUpperCase())) {\n\n      updatePerson().then(updatedSuccessfully => {\n        if(updatedSuccessfully){\n          \n          setErrMessage(`${newName} was successfully updated`)\n        setTimeout(() => {\n          setErrMessage(null)\n        }, 5000)\n       }\n      }).catch(() => {\n        setErrMessage(\n          `Information of ${newName} has already been removed from server`\n        )\n            })\n    }\n    else {\n        const person = {\n        name: newName,\n        number:newNumber\n       };\n       if(newName.length < 3){\n         setErrMessage('The name must contain 3 letters')\n       }\n       else if(newNumber.length < 8){\n         setErrMessage('The number must contain 8 digits')\n\n       }\n       else{\n       personService.create(person).then(setPerson => {\n              setPersons(persons.concat(setPerson))\n              setNewName('');\n              setNewNumber('');\n              setErrMessage(`${newName} was successfully added`)\n              setTimeout(() => {setErrMessage(null)}, 5000)\n      });\n   \n    }\n  }\n     \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errMessage} />\n      <PersonFilter handleFilterChange={(event) => handleFilterChange(event)} value = {nameFilter} />\n      <h2>add a new</h2>\n      <PersonForm \n      nameValue={newName}\n      numberValue={newNumber}\n      handleFormSubmit={(event) => formSubmit(event)}\n      handleNameChange = {(event) => handleNameChange(event)}\n      handleNumberChange = {(event) => handleNumberChange(event)}\n   \n      />\n      <h2>Numbers</h2>\n      <PersonsList personslist={filterPersonList} handleDelClick={(event) => handleDelClick(event)}/>\n    </div>\n  );\n};\n\nexport default App;","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}